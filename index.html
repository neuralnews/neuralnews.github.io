<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Neural News</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link href="./css/style.css" rel="stylesheet">

  <!-- Favicon images -->
  <link rel="apple-touch-icon" sizes="120x120" href="./favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicons/favicon-16x16.png">
  <link rel="manifest" href="./favicons/manifest.json">
  <link rel="mask-icon" href="./favicons/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">
</head>

<body>
  <div class="header">
    <h1>Neural News</h1>
    <h5>An unbiased news portal</h5>
    <h4>Neural News uses natural language processing to deliver news of all opinions and points of views</h4>
    <p>Brendan Voelz &amp; Charles Winston</p>
    <hr>
  </div>

  <!-- Entry: 11/6 -->
  <div class="leg">
    <h3>6 November 2017</h3>
    <h4>Moving to Google Cloud?</h4>
    <p>This week, we have been wrestling with the idea of moving away from Heroku... sooner rather than later. The issues with Heroku are as follows:</p>
    <ul>
      <li><b>It is really, really slow.</b> The space allotted for our server is not constantly up and running since we are on the free plan, and as a result the first wake-up call to the server can take up to twenty seconds, which is not practical in the slightest for a news app.</li>
      <li><b>We have to play by their rules.</b> In order to run Python scripts, we have to jump through hoops to set up requirements for the server and create multiple builds that allow us to scratch the surface of modifying the server environment.</li>
      <li><b>Our dependencies are limited.</b> We have to depend on Aylien for our entity extraction and article extraction, which each take up around 15 calls per query on our app. Since we are limited to 1,000 calls a day, this is starting to become unreasonable. Other services like Amazon Web Services and Google Cloud offer these types of APIs for free...if you use their servers!</li>
    </ul>
    <p>So, now we're starting to look at Google Cloud as the next platform for our server space. Google Cloud would give us free, unlimited access to Google APIs that perform (likely better) sentiment analysis, entity extraction, and article extraction. We still have to weigh some factors, but it seems like the next step moving forward with our app.</p>
  </div>

  <!-- Leg 4 -->
  <div class="leg">
    <h3>Leg 4: Testing and Security Audit</h3>
    <h4>Lint</h4>
    <p>The initial scans of our two main JavaScript files are found in the <code>tests</code> folder at the root of our mobile app repository. After making the appropriate changes, we re-ran Lint on the files and saved the outputs of those scans to the same tests folder.</p>
    <p>It should be noted that in nearly all of the output files (denoted with an <code>_2</code> at the end of the file name), there were a significant amount of false-positives. While we were able to fix the majority of the errors and warnings that eslint was able to provide us, there were many that simply did not make sense. For example, the first error in the <code>lint_index_2.txt</code> file says: <code>'Fetch' is defined but never used.</code> However, we do use the Fetch library by calling its main <code>fetch</code> function to make HTTP GET requests to our server.</p>
    <h4>Crashlytics</h4>
    <p>Crashlytics is an extremely powerful tool. It's a light-weight crash-testing solution to easily identify the causes of a crash. Fabric's analytics engine gives insight into where the crash is coming from, giving detailed reports of the crash. Frtunately, our app is not having any problems with crashing, but once we expand our functionality, this will beome a very useful tool. </p>
    <h4>Veracode Analysis Center</h4>
    <p>After using Veracode's static analysis scan utility, I am completely in love with Veracode. The interface was very easy to use, and the end results of running the scan revealed several ways (in a wonderfully easy-to-read format, mind you) that we can improve our app from a security perspective. The generated file can be found at <code>./tests/veracode_tests/DetailedReport_Neural_News_5_Nov_2017.pdf</code></p>
    <p>As you can see in the <b>Summary of Flaws</b> panel, Neural News had only low severity security flaws. The <b>Flaw Types by Severity and Category</b> breaks down where most of our flaws occurred. In total, 11 of the flaws were related to error handling, and 4 were due to information leakage. Going forward, we now know that we need to ensure that all of the appropriate function calls have error handling: API calls, SDK library functions, asynchronous methods, etc. And, we now know that we need to protect our API keys by accessing them from a file rather than having them hard-coded into the JavaScript.</p>
    <h4>High-Tech Bridge Security Scan</h4>
    <p>After testing our native app code, we decided that we needed to test our server code. So we did a security scan using High-Tech Bridge's <a href="https://www.htbridge.com/websec/">Web Server Security Test</a>. Unfortunately, we did not perform very well on the security test. We recieved an F. Our main problem is that we are missing HTTP headers to increase security and prevent vulnerabilities. We are missing the following headers:</p>
    <ul>
      <li>X-FRAME-OPTIONS</li>
      <li>X-XSS-PROTECTION</li>
      <li>X-CONTENT-TYPE-OPTIONS</li>
      <li>CONTENT-SECURITY-POLICY</li>
    </ul>
    <p>Sending these response headers is an easy way to increase the security of our web server.</p>
  </div>

  <!-- Entry: 10/31 -->
  <div class="leg">
    <h3>31 October 2017</h3>
    <h4>Testing the Server</h4>
    <h5>Overview</h5>
    <p>After finally getting a working version of the server up and running last week, this week it was time to put it to the test. We ran a handful of tests to ensure that things were working as expected, and we realized that the 'working version of the server' was not as air-tight as we had hoped.</p>
    <h5>Challenges</h5>
    <p>One of the main problems we anticiapted when it came to testing were our API limits. As we depend on Aylien's SDK for both entity and article extraction, it is not feasible to blast the server with hundreds of automated tests, as this would near instantly drain up our API calls for the day.</p>
    <p>So, we started out slowly. First, we tested querying for easy news entities, like Donald Trump, Hillary Clinton, and Bernie Sanders. Testing slowly revealed subtle, nuanced errors that we were able to correct. It also revealed some nastier, more sinister fundamental flaws in our server design.</p>
    <p>For instance, we realized that asynchronous JavaScript can become a mess... even when you're doing it the right way. At first, we were iterating over a list of articles and performing asynchronous tasks (i.e. extracting the article, calling Python scripts, etc.) on them in succession. As it turns out, this can lead to overwriting of data, as the later iterations will take precedence over the earlier ones. This manifested in some of the testing JSON files we generated, which looked like the following: </p>
    <img src='./product_images/test_json_fail.png'>
    <p>As you can see, for these three articles the title, URL, and news source all have the same values, which was not what we wanted. After some grueling work, we identified that this iterative mess was causing problems:</p>
    <img src='./product_images/bad_async_js.png'>
    <p>So, we turned this into a somewhat more logical process that took advantage of 'Q,' a wrapper on JavaScript's 'Promise' library. </p>
    <h5>Q Promise Library</h5>
    <p>While we could have chosen to use the native Promise library, we opted for the Q library for a few reasons. First, it was much, much easier to use. The syntax makes more logical sense, and the code becomes a lot flatter instead of extending to the right of the text editor. Also, the library gives you implicit error propagation with 'try, catch, finally.' These make the code very readable and easy to maintain, all while still giving us the asynchronous functionality our server needed. So, our code now looks more like this, which works as expected: </p>
    <img src='./product_images/good_async_js.png'>
    <hr>
  </div>

  <!-- Entry: 10/27 -->
  <div class="leg">
    <h3>27 October 2017</h3>
    <h4>Data Collection?</h4>
    <p>This week, we have been toying with the idea of setting up a database for several reasons:</p>
    <ul>
      <li><b>Caching makes things faster.</b> As we learned in Mark Sheldon's COMP-0040, caching can optimize the performance of programs immensely. In our case, perhaps caching already-generated NLP analysis of articles related to a given query could help speed things up, as Heroku is currently proving to be a bit slow.</li>
      <li><b>Collecting user data => profit?</b> It's no secret that political data is extremely valuable to candidates, researchers, marketing firms, etc. As a result, perhaps it would be wise to do the following: gather cursory political affiliation data on first load of the app => see which articles they tend to click on => cache this in a database for later analysis.</li>
      <li><b>Our APIs are tying our hands.</b> Since we only have 1,000 Aylien API calls per day to work with at the moment, utilizing some caching could help us avoid the ~15 API calls per query that are typically needed to serve a response to the client.</li>
    </ul>
    <p>We still have to do a good amount of research into which databases would be best for our needs, but we will likely go with either MongoDB or SQL given their popularity and ease of integration. Stay tuned.</p>
  </div>

  <!-- Leg 3 -->
  <div class="leg">
    <h3>3. Minimum Viable Product</h3>
    <h4>Critical Features of Neural News</h4>
    <img id="demo" src="./product_images/neural_news_demo.gif"/>
    <h5>Searching</h5>
    <p>Searching is the most important feature of the app, as the whole point is to allow users to search for the news content that they want. So, we used a couple libraries to help get the job done: React Native Search Box for the search bar and Fetch for making HTTP GET requests to our server. Users can enter a string and press search or simply click on one of the 'Trending Topics' listed on the landing page to be redirected to a screen that displays all of the information we serve.</p><br>
    <h5>Displaying Natural Language Processing Data</h5>
    <p>Once our server has resolved the user's request, our app redirects the user to a search results page, where they are presented with -- at the moment -- 3 articles and their corresponding natural language processing data. The user sees an image with the article's news source logo, the article's title, the article's brief description, and at the bottom a list of the top -- at the moment -- three entities and their respective polarities. We choose to display the polarities using images that map to discrete values to make it more easy to understand the biases present in the article for a given entity.</p><br>
    <h5>Linking to Original Article</h5>
    <p>Tapping on the logo at the top opens the mobile device's default browser and links to the article so that the user can read the article if he desires.</p>
    <hr>
  </div>

  <!-- Entry: 10/20 -->
  <div class="leg">
    <h3>20 October 2017</h3>
    <h4>Building the Server</h4>
    <h5>Overview</h5>
    <p>We decided to use Node.js to build our server since there are pre-existing SDKs for the services we want to use (Aylien, mainly) for Neural News. The process of building the server consisted of developing a <code>/query</code> HTTP GET route that serves the natural language processing data paired with articles to the client, our app.</p>
    <h5>Challenges</h5>
    <p>We learned that asynchronous calls are a mess. In several places, we have to make asynchronous calls that need to happen sequentially, but the promises aren't quite working as we expect them to. At this point, the server really isn't fully working. There's some bugs related to asynchronous calls not resolving before we send a response back to the client, and we will have to do some investigating into why our current methodology isn't working. However, we have been able to generate some dummy test data that we can now use when testing out the front-end.</p>
    <hr>
  </div>

  <!-- Entry: 10/13 -->
  <div class="leg">
    <h3>13 October 2017</h3>
    <h4>Confirming User Bias?</h4>
    <p>This week, we talked about a philosophical, ethical question related to our app. The goal of Neural News is to, given a search query, provide users with articles that cover as many opinions of the political spectrum as possible. So, the naive algorithm would result in serving some left articles, some right, and some neutral. However, this is not how our competitors do it.</p>
    <p>For example, Google's news website serves its users content that they predict the users will like ... thus confirming the user's already held bias. That is to say, if a given user consistently responds positively to articles that applaud the U.S. Senate, then Google will strive to serve that user articles that talk about the Senate positively. Do we want to do this? Is this strategy more effective in getting returning users?</p>
    <p>Ultimately, to us what makes Neural News different is that it <b>should and must</b> serve articles that cover the whole political spectrum. Perhaps this may mean that we won't have as many users as we would otherwise, but that would compromise our original intention of the app.</p>
  </div>

  <!-- Entry: 10/6 -->
  <div class="leg">
    <h3>6 October 2017</h3>
    <h4>Further News Analysis</h4>
    <p>We took the week to talk design for the future, specifically related to how we want to portray the NLP news analysis. We've been asking ourselves the question:</p>
    <p>     "Why would people want to use our app?" </p>
    <p>We want to make a news app that people will choose over other ways to get news (Facebook, Google, etc.). This means our analysis has to be really useful. While entity sentiment is a good start, and certainly useful, it's really only the tip of the iceberg. Some bigger features we are planning on adding are:</p>
    <ul>
      <li>Complete network analysis - Analyze how different networks cover different news topics, and make comparisions between them.</li>
      <li>Polling users - collect data about user demographics, political leanings, general opinions (some small version of something similar to <a href="https://www.isidewith.com"> ISideWith.com</a>). Use this data for further statistical analysis and machine learning models.</li>
      <li>Include "do you agree?" buttons for users to rate the accuracy of our analysis</li>
      <li>Develop some sort of "bias" index, which is related to entity sentiment, political leaning, and how much a stations coverage of something differs from others.</li>
    </ul>
  </div>

  <!-- Leg 2 -->
  <div class="leg">
    <h3>2. Basic Foundation</h3>
    <h4>Key Views as Wireframes</h4>
      <h5>Home Screen</h5>
      <img src="./mockups/homeScreen.png">
      <br><br><br>
      <h5>Search Results</h5>
      <img src="./mockups/searchResults.png">
      <br><br><br><br>
    <h4>Architecture of the Platform</h4>
      <img src="./mockups/architectureDiagram.png">
    <br><br>
    <h4>Third Party APIs</h4>
    <ul>
      <li><a href="https://azure.microsoft.com/en-us/services/cognitive-services/bing-news-search-api/">Microsoft Azure Cognitive Services - Bing News Search API: </a>Querying for news articles related to a given topic</li>
      <li><a href="https://aylien.com/text-api/article-extraction/">Aylien: </a>Extracting entities and text from an article</li>
      <li><a href="https://textblob.readthedocs.io/en/dev/">TextBlob: </a>Natural language processing</li>
    </ul>
    <br>
    <h4>Third Party Libraries &amp; Packages</h4>
    <ul>
      <li><a href="https://github.com/Bhoos/coverflow-demo">Coverflow Library: </a>Allows for swiping objects left and right in a cover flow style</li>
      <li><a href="https://react-native-training.github.io/react-native-elements/API/searchbar/">React Native Elements Search Bar: </a>Library for a search bar element</li>
    </ul>
    <br>
    <hr>
  </div>

  <!-- Entry: 9/29 -->
  <div class="leg">
    <h3>29 September 2017</h3>
    <h4>Building the Front End</h4>
    <h5>Overview</h5>
    <p>This week we built a minimal front end version of the app, without the use of any APIs.</p>
    <h5>Challenges</h5>
    <p>One of the biggest problems we ran into was the scope of the <code>this</code> variable in React Native. This came up specifically when dealing with searching. In our <code>HomeScreen</code> class, we have a list of trending topics, which are buttons with text. We wanted the <code>Button</code> component to reference our <code>onSearch</code> function, which takes the search query as a parameter and navigates to the search results page. We had something like this:</p>
    <img src='./product_images/button_bad.png'>
    <p>This of course was a problem. We had no idea which <code>this</code> was what. The first <code>this</code> was supposed to reference the <code>HomeScreen</code> class, and the second <code>this</code> was supposed to reference the <code>Button</code> component. It turned out that the first <code>this</code> was referencing the <code>Button</code>, and the second <code>this</code> was undefined. To fix this problem we created some new classes.</p>
    <img src='./product_images/trending_topics_demo'>
    <p>This way we could pass the <code>onSearch</code> function as a prop down to the <code>TrendingTopics</code> class and then again down to the <code>TrendingTopic</code> class. This results in no ambiguity of <code>this</code> variables.
    <hr>
  </div>

  <!-- Leg 1 -->
  <div class="leg">
    <h3>1. Proposal and Requirements</h3>
    <h4>What is the need?</h4>
    <p>With the internet's huge catalog of news sources, it is all too easy to only read news that confirms your own bias. Too often, people will only listen to what Fox has to say, or on what Huffington Post has to offer. Consumers need more diverse news sources, and they need to understand the implicit biases of their sources. By allowing users to search for news and get a diverse spread of results, along with natural language analysis of the articles' content, we aim to empower the individual to be more informed of the information they extract from the media.</p>
    <br>
    <h4>Who is the audience?</h4>
    <p>Everyone who cares about the news -- especially those looking for a more informed news experience -- can benefit from our app.</p>
    <br>
    <h4>Who are the supporters and stakeholders?</h4>
    <p>Noah Weinflash, junior at Tufts University who identifies as a liberal, strongly supports this app: "We need more people to value diverse opinions in their news, and we need an easy way to see both sides of the issues."</p>
    <p>Jack Winston, senior at Boston College who identifies as a conservative, strongly supports this app: "There is a clear media bias that has existed for so long. A news portal that can objectively assess the bias of news articles can finally bring light to the serious media problem, and force people to be more critical of seemingly 'neutral' sources."</p>
    <p>Belle Newman, junior at Tufts University who identifies as independent, strongly supports this app: "With our nation divided and 'fake news' on both sides, there is an urgent need to restore trust in the media."</p>
    <p>People of all political ideologies support this app and idea. This has the capability to heal the great divide in our country, and to bring understanding and open-mindedness back into popularity.</p>
    <br>
    <h4>What is the app's core functionality?</h4>
    <p>Neural News promises to deliver news articles from diverse sources upon search. Then, it will provide natural language analysis of each article based on its sentiment and content.</p>
    <br>
    <h4>What is the app's secondary functionality?</h4>
    <p>If time permits, we would like to support additional sources like Facebook and Twitter posts. Also, a stretch goal would be to eventually provide an analysis of the public opinion by looking at data from the articles' comments, social media posts, etc.</p>
    <br>
    <h4>What features of the mobile device will the app use?</h4>
    <p>At this point, we do not foresee the app needing to use any special features of the mobile device aside from Internet access. However, we may use contacts or SMS in order to allow the user to connect with other users.</p>
    <br>
    <h4>What are the app's limitations?</h4>
    <p>There are two main limitations of the app. First, the speed of API calls / computation of our analysis: since we depend on 3rd party APIs and libraries to perform all of the natural language analysis, it is possible that the app's load time and search feature will have some latency. Second, the accuracy of our sentiment analysis: even though the APIs we are using are very sophisticated, NLP is far from being perfect. Thus, we understand that our analysis can only be so accurate.</p>
  </div>
</body>
</html>
